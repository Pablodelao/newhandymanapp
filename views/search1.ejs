<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Star Wars Quote App</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>

  <body>
    <h1 data-position="header">May Node and Express be with you.</h1>

    <section data-position="add-quote">
      <h2>Add a job</h2>

      <form action="/quotes" method="POST">
        <input type="text" placeholder="name" name="name" />
        <input type="text" placeholder="Phone Number" name="Phone_number" />
        <select  name="job" >
            <option>All Services</option>
            <option>Handiwork</option>
            <option>Painting</option>
            <option>Decks</option>
            <option>Electrical</option>
            <option>Plumbing</option>
            <option>Plaster &amp; Drywall</option>
            <option>Flooring</option>
            <option>Kitchen Design</option>
            <option>Welding</option>
        </select>
        <input name="location" id="pac-input" class="controls" type="text" placeholder="Enter a location"  >
        <textarea name="lat" id="lat" cols="30" rows="1"></textarea>
        <textarea name="long" id="long" cols="30" rows="1"></textarea>
        <button type="submit">Submit</button>
      </form>
    </section>

    <!-- <section data-position="update-quote">
      <div>
        <h2>Darth Vadar invades!</h2>
        <p>
          Replace first Yoda's quote with a quote written by Darth Vadar
        </p>
        <button id="update-button">Replace Yoda's quote</button>
      </div>
      
    </section>

    <section data-position="delete-quote">
      <div>
        <h2>Remove Darth Vadar!</h2>
        <p>
          Delete one Darth Vadar's quote. Does nothing if there are no more
          Darth Vadar's quote
        </p>
        <button id="delete-button">Delete Darth Vadar's quote</button>
      </div>
      <div id="message"></div>
    </section> -->

    <section data-position="quotes">
      <h2>Quotes</h2>

      <ul class="quotes">
        <% for(var i = 0; i < quotes.length; i++) {%>
        <li class="quote">
          <span><%= quotes[i].name %></span>:
          <span><%= quotes[i].job %></span>
        </li>
        <% } %>
      </ul>
    </section>
    
    <!-- add library <script
      <script src="https://maps.googleapis.com/maps/api/js?v=3.expsigned_in=true&libraries=places"></script>
      <!-logic to auto complete address -->
      <!-- <script type="text/javascript" >
        google.maps.event.AddDomListener(window,"load",intilize);
        function intilize(){
          var autocomplete = new google.maps.places.Autocomplete(document.getElementById('txtautocomplete'))
          google.maps.events.AddListener(autocomplete,'plac_changed',function(){
            var places = autocomplete.getPlace();
            var location = "<b>Location:</b>" + places.formatted_address + "<br/>";
            location = "<b>Latitude:</b>" + places.geometry.location.A + "<br/>"
            location = "<b>Longitude:</b>" + places.geometry.location.F + "<br/>"
          })
          document.getElementById('lblresult').innerHTML= location;
        }
      </script>
    <span> location</span><input type="text" id="txtautocomplete" placeholder="Enter the Address" /><br/>
    <label id="lblresult"></label>

    <script>

     if ('geolocation' in navigator){
      // geo location available
      console.log("geolocation avaiable")
      navigator.geolocation.getCurrentPosition(position=> {
        let lat =  position.coords.latitude
         let log = position.coords.longitude
         document.getElementById("lat").innerHTML = lat;
         document.getElementById("log").innerHTML = log;
         console.log(position)


      })
      }else{
      // geolocation is not available
      console.log("isn't avalable")
  }



    </script> --> 


    <style>
      #pac-input {
          background-color: #fff;
          padding: 0 11px 0 13px;
          width: 400px;
          font-family: Roboto;
          font-size: 15px;
          font-weight: 300;
          text-overflow: ellipsis;
      }
      #pac-input:focus {
          border-color: #4d90fe;
          margin-left: -1px;
          padding-left: 14px;  /* Regular padding-left + 1. */
          width: 401px;
      }
      
      </style>
       <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&key=AIzaSyDjxh6hCpAIjfRgk7fbb-fp7yy6-Fgd5p4"></script> 
       <script>
    
    
        function initialize() {
              var address = (document.getElementById('pac-input'));
              var autocomplete = new google.maps.places.Autocomplete(address);
              autocomplete.setTypes(['geocode']);
              google.maps.event.addListener(autocomplete, 'place_changed', function() {
                  var place = autocomplete.getPlace();
                  if (!place.geometry) {
                      return;
                  }
      
              var address = '';
              if (place.address_components) {
                  address = [
                      (place.address_components[0] && place.address_components[0].short_name || ''),
                      (place.address_components[1] && place.address_components[1].short_name || ''),
                      (place.address_components[2] && place.address_components[2].short_name || '')
                      ].join(' ');
              }
              document.getElementById('lat').innerHTML = place.geometry.location.lat();
              document.getElementById('long').innerHTML = place.geometry.location.lng();
              });
        }
      
         google.maps.event.addDomListener(window, 'load', initialize);
      
          </script>

    <span>location:</span><input type="text" id="txtautocomplete" style="width:200px" placeholder="enter the adress"/>
    <label id="lblresult"></label>




    <script src="/main.js"></script>
   
  </body>
</html>